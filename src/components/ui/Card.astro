---
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";
interface Props {
    title: string;
    description?: string;
    image?: string | ImageMetadata;
    imagePlaceholder?: string;
    href?: string;
    class?: string;
}

const {
    title,
    description,
    image,
    imagePlaceholder,
    href,
    class: className,
} = Astro.props;

const Wrapper = href ? "a" : "div";
---

<Wrapper href={href} class:list={["group space-y-6 block", className]}>
    <div
        class="aspect-4/5 bg-canvas overflow-hidden relative border border-ink/5"
    >
        {
            image ? (
                <Image
                    src={image}
                    alt={title}
                    width={800}
                    height={1000}
                    class="w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105"
                />
            ) : (
                imagePlaceholder && (
                    <div class="absolute inset-0 flex items-center justify-center text-ink/20 text-[10px] uppercase tracking-widest text-center px-4 font-sans font-bold">
                        {imagePlaceholder}
                    </div>
                )
            )
        }
        <!-- Artisan Overlay on Hover -->
        <div
            class="absolute inset-0 bg-ink/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 shimmer-aurora"
        >
        </div>
    </div>

    <div class="space-y-2">
        <h3
            class="text-xl font-serif text-ink group-hover:text-accent transition-colors duration-300"
        >
            {title}
        </h3>
        {
            description && (
                <p class="text-xs text-ink-muted leading-relaxed line-clamp-2 font-serif italic">
                    {description}
                </p>
            )
        }
    </div>
</Wrapper>
